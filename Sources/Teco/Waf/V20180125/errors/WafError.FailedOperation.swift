//===----------------------------------------------------------------------===//
//
// This source file is part of the Teco open source project
//
// Copyright (c) 2022-2023 the Teco project authors
// Licensed under Apache License v2.0
//
// See LICENSE.txt for license information
//
// SPDX-License-Identifier: Apache-2.0
//
//===----------------------------------------------------------------------===//

// THIS FILE IS AUTOMATICALLY GENERATED by TecoServiceGenerator.
// DO NOT EDIT.

import TecoCore

extension TCWafError {
    public struct FailedOperation: TCWafErrorType {
        enum Code: String {
            case clickHouseOperationFailed = "FailedOperation.ClickHouseOperationFailed"
            case clsInternalError = "FailedOperation.CLSInternalError"
            case clsdbOperationFailed = "FailedOperation.CLSDBOperationFailed"
            case mysqlDBOperationFailed = "FailedOperation.MysqlDBOperationFailed"
            case redisOperationFailed = "FailedOperation.RedisOperationFailed"
            case sessionInUsed = "FailedOperation.SessionInUsed"
            case theNumberOfAddedBlackAndWhiteListExceedsTheUpperLimit = "FailedOperation.TheNumberOfAddedBlackAndWhiteListExceedsTheUpperLimit"
            case theNumberOfOneTimeDeletionsReachedTheUpperLimit = "FailedOperation.TheNumberOfOneTimeDeletionsReachedTheUpperLimit"
            case other = "FailedOperation"
        }

        private let error: Code

        public let context: TCErrorContext?

        public var errorCode: String {
            self.error.rawValue
        }

        /// Initializer used by ``TCClient`` to match an error of this type.
        public init?(errorCode: String, context: TCErrorContext) {
            guard let error = Code(rawValue: errorCode) else {
                return nil
            }
            self.error = error
            self.context = context
        }

        internal init(_ error: Code, context: TCErrorContext? = nil) {
            self.error = error
            self.context = context
        }

        /// 操作CH数据库失败
        public static var clickHouseOperationFailed: FailedOperation {
            FailedOperation(.clickHouseOperationFailed)
        }

        /// CLS内部错误。
        ///
        /// 错误表示WAF的API后端访问CLS接口失败,包括接口失败,语法失败,参数校验不通过等。
        public static var clsInternalError: FailedOperation {
            FailedOperation(.clsInternalError)
        }

        /// 调用CLS日志服务API失败
        public static var clsdbOperationFailed: FailedOperation {
            FailedOperation(.clsdbOperationFailed)
        }

        /// 操作Mysql数据库失败
        public static var mysqlDBOperationFailed: FailedOperation {
            FailedOperation(.mysqlDBOperationFailed)
        }

        /// 操作Redis数据库失败
        public static var redisOperationFailed: FailedOperation {
            FailedOperation(.redisOperationFailed)
        }

        public static var sessionInUsed: FailedOperation {
            FailedOperation(.sessionInUsed)
        }

        public static var theNumberOfAddedBlackAndWhiteListExceedsTheUpperLimit: FailedOperation {
            FailedOperation(.theNumberOfAddedBlackAndWhiteListExceedsTheUpperLimit)
        }

        public static var theNumberOfOneTimeDeletionsReachedTheUpperLimit: FailedOperation {
            FailedOperation(.theNumberOfOneTimeDeletionsReachedTheUpperLimit)
        }

        /// 操作失败。
        public static var other: FailedOperation {
            FailedOperation(.other)
        }

        public func asWafError() -> TCWafError {
            let code: TCWafError.Code
            switch self.error {
            case .clickHouseOperationFailed:
                code = .failedOperation_ClickHouseOperationFailed
            case .clsInternalError:
                code = .failedOperation_CLSInternalError
            case .clsdbOperationFailed:
                code = .failedOperation_CLSDBOperationFailed
            case .mysqlDBOperationFailed:
                code = .failedOperation_MysqlDBOperationFailed
            case .redisOperationFailed:
                code = .failedOperation_RedisOperationFailed
            case .sessionInUsed:
                code = .failedOperation_SessionInUsed
            case .theNumberOfAddedBlackAndWhiteListExceedsTheUpperLimit:
                code = .failedOperation_TheNumberOfAddedBlackAndWhiteListExceedsTheUpperLimit
            case .theNumberOfOneTimeDeletionsReachedTheUpperLimit:
                code = .failedOperation_TheNumberOfOneTimeDeletionsReachedTheUpperLimit
            case .other:
                code = .failedOperation
            }
            return TCWafError(code, context: self.context)
        }
    }
}
