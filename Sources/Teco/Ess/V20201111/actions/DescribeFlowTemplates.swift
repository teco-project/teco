//===----------------------------------------------------------------------===//
//
// This source file is part of the Teco open source project
//
// Copyright (c) 2022-2023 the Teco project authors
// Licensed under Apache License v2.0
//
// See LICENSE.txt for license information
//
// SPDX-License-Identifier: Apache-2.0
//
//===----------------------------------------------------------------------===//

// THIS FILE IS AUTOMATICALLY GENERATED by TecoServiceGenerator.
// DO NOT EDIT.

import Logging
import NIOCore
import TecoCore

extension Ess {
    /// DescribeFlowTemplates请求参数结构体
    public struct DescribeFlowTemplatesRequest: TCPaginatedRequest {
        /// 执行本接口操作的员工信息。
        /// 注: `在调用此接口时，请确保指定的员工已获得所需的接口调用权限，并具备接口传入的相应资源的数据权限。`
        public let `operator`: UserInfo

        /// 代理企业和员工的信息。
        /// 在集团企业代理子企业操作的场景中，需设置此参数。在此情境下，ProxyOrganizationId（子企业的组织ID）为必填项。
        public let agent: Agent?

        /// 查询内容控制
        ///
        /// - **0**：模板列表及详情（默认）
        /// - **1**：仅模板列表
        public let contentType: Int64?

        /// 搜索条件，本字段用于指定模板Id进行查询。
        /// Key：template-id Values：需要查询的模板Id列表
        public let filters: [Filter]?

        /// 查询结果分页返回，指定从第几页返回数据，和Limit参数配合使用。
        ///
        /// 注：`1.offset从0开始，即第一页为0。`
        /// `2.默认从第一页返回。`
        public let offset: UInt64?

        /// 指定每页返回的数据条数，和Offset参数配合使用。
        ///
        /// 注：`1.默认值为20，单页做大值为200。`
        public let limit: UInt64?

        /// 指定查询的应用号，指定后查询该应用号下的模板列表。
        ///
        /// 注：`1.ApplicationId为空时，查询所有应用下的模板列表。`
        public let applicationId: String?

        /// 默认为false，查询SaaS模板库列表；
        /// 为true，查询第三方应用集成平台企业模板库管理列表
        @available(*, deprecated)
        public let isChannel: Bool? = nil

        /// 暂未开放
        @available(*, deprecated)
        public let organization: OrganizationInfo? = nil

        /// 暂未开放
        @available(*, deprecated)
        public let generateSource: UInt64? = nil

        public init(operator: UserInfo, agent: Agent? = nil, contentType: Int64? = nil, filters: [Filter]? = nil, offset: UInt64? = nil, limit: UInt64? = nil, applicationId: String? = nil) {
            self.operator = `operator`
            self.agent = agent
            self.contentType = contentType
            self.filters = filters
            self.offset = offset
            self.limit = limit
            self.applicationId = applicationId
        }

        @available(*, deprecated, renamed: "init(operator:agent:contentType:filters:offset:limit:applicationId:)", message: "'isChannel', 'organization' and 'generateSource' are deprecated in 'DescribeFlowTemplatesRequest'. Setting these parameters has no effect.")
        public init(operator: UserInfo, agent: Agent? = nil, contentType: Int64? = nil, filters: [Filter]? = nil, offset: UInt64? = nil, limit: UInt64? = nil, applicationId: String? = nil, isChannel: Bool? = nil, organization: OrganizationInfo? = nil, generateSource: UInt64? = nil) {
            self.operator = `operator`
            self.agent = agent
            self.contentType = contentType
            self.filters = filters
            self.offset = offset
            self.limit = limit
            self.applicationId = applicationId
        }

        enum CodingKeys: String, CodingKey {
            case `operator` = "Operator"
            case agent = "Agent"
            case contentType = "ContentType"
            case filters = "Filters"
            case offset = "Offset"
            case limit = "Limit"
            case applicationId = "ApplicationId"
            case isChannel = "IsChannel"
            case organization = "Organization"
            case generateSource = "GenerateSource"
        }

        /// Compute the next request based on API response.
        public func makeNextRequest(with response: DescribeFlowTemplatesResponse) -> DescribeFlowTemplatesRequest? {
            guard !response.getItems().isEmpty else {
                return nil
            }
            return .init(operator: self.operator, agent: self.agent, contentType: self.contentType, filters: self.filters, offset: (self.offset ?? 0) + .init(response.getItems().count), limit: self.limit, applicationId: self.applicationId)
        }
    }

    /// DescribeFlowTemplates返回参数结构体
    public struct DescribeFlowTemplatesResponse: TCPaginatedResponse {
        /// 模板详情列表数据
        public let templates: [TemplateInfo]

        /// 查询到的模板总数
        public let totalCount: Int64

        /// 唯一请求 ID，每次请求都会返回。定位问题时需要提供该次请求的 RequestId。
        public let requestId: String

        enum CodingKeys: String, CodingKey {
            case templates = "Templates"
            case totalCount = "TotalCount"
            case requestId = "RequestId"
        }

        /// Extract the returned ``TemplateInfo`` list from the paginated response.
        public func getItems() -> [TemplateInfo] {
            self.templates
        }

        /// Extract the total count from the paginated response.
        public func getTotalCount() -> Int64? {
            self.totalCount
        }
    }

    /// 查询模板
    ///
    /// 此接口（DescribeFlowTemplates）用于查询本企业模板列表信息。
    /// >  一个模板通常会包含以下结构信息
    /// >- 模板基本信息
    /// >- 发起方参与信息Promoter、签署参与方 Recipients，后者会在模板发起合同时用于指定参与方
    /// >- 填写控件 Components
    /// >- 签署控件 SignComponents
    /// >- 生成模板的文件基础信息 FileInfos
    ///
    /// 当模板较多或模板中的控件较多时，可以通过查询模板接口更方便的获取模板列表，以及每个模板内的控件信息。
    ///
    /// 适用场景：
    /// 该接口常用来配合[模板发起合同-创建电子文档](https://qian.tencent.com/developers/companyApis/startFlows/CreateDocument)接口，作为创建电子文档的前置接口使用。
    /// 通过此接口查询到模板信息后，再通过调用创建电子文档接口，指定模板ID，指定模板中需要的填写控件内容等，完成电子文档的创建。
    @inlinable
    public func describeFlowTemplates(_ input: DescribeFlowTemplatesRequest, region: TCRegion? = nil, logger: Logger = TCClient.loggingDisabled, on eventLoop: EventLoop? = nil) -> EventLoopFuture<DescribeFlowTemplatesResponse> {
        self.client.execute(action: "DescribeFlowTemplates", region: region, serviceConfig: self.config, input: input, logger: logger, on: eventLoop)
    }

    /// 查询模板
    ///
    /// 此接口（DescribeFlowTemplates）用于查询本企业模板列表信息。
    /// >  一个模板通常会包含以下结构信息
    /// >- 模板基本信息
    /// >- 发起方参与信息Promoter、签署参与方 Recipients，后者会在模板发起合同时用于指定参与方
    /// >- 填写控件 Components
    /// >- 签署控件 SignComponents
    /// >- 生成模板的文件基础信息 FileInfos
    ///
    /// 当模板较多或模板中的控件较多时，可以通过查询模板接口更方便的获取模板列表，以及每个模板内的控件信息。
    ///
    /// 适用场景：
    /// 该接口常用来配合[模板发起合同-创建电子文档](https://qian.tencent.com/developers/companyApis/startFlows/CreateDocument)接口，作为创建电子文档的前置接口使用。
    /// 通过此接口查询到模板信息后，再通过调用创建电子文档接口，指定模板ID，指定模板中需要的填写控件内容等，完成电子文档的创建。
    @inlinable
    public func describeFlowTemplates(_ input: DescribeFlowTemplatesRequest, region: TCRegion? = nil, logger: Logger = TCClient.loggingDisabled, on eventLoop: EventLoop? = nil) async throws -> DescribeFlowTemplatesResponse {
        try await self.client.execute(action: "DescribeFlowTemplates", region: region, serviceConfig: self.config, input: input, logger: logger, on: eventLoop).get()
    }

    /// 查询模板
    ///
    /// 此接口（DescribeFlowTemplates）用于查询本企业模板列表信息。
    /// >  一个模板通常会包含以下结构信息
    /// >- 模板基本信息
    /// >- 发起方参与信息Promoter、签署参与方 Recipients，后者会在模板发起合同时用于指定参与方
    /// >- 填写控件 Components
    /// >- 签署控件 SignComponents
    /// >- 生成模板的文件基础信息 FileInfos
    ///
    /// 当模板较多或模板中的控件较多时，可以通过查询模板接口更方便的获取模板列表，以及每个模板内的控件信息。
    ///
    /// 适用场景：
    /// 该接口常用来配合[模板发起合同-创建电子文档](https://qian.tencent.com/developers/companyApis/startFlows/CreateDocument)接口，作为创建电子文档的前置接口使用。
    /// 通过此接口查询到模板信息后，再通过调用创建电子文档接口，指定模板ID，指定模板中需要的填写控件内容等，完成电子文档的创建。
    @inlinable
    public func describeFlowTemplates(operator: UserInfo, agent: Agent? = nil, contentType: Int64? = nil, filters: [Filter]? = nil, offset: UInt64? = nil, limit: UInt64? = nil, applicationId: String? = nil, region: TCRegion? = nil, logger: Logger = TCClient.loggingDisabled, on eventLoop: EventLoop? = nil) -> EventLoopFuture<DescribeFlowTemplatesResponse> {
        self.describeFlowTemplates(.init(operator: `operator`, agent: agent, contentType: contentType, filters: filters, offset: offset, limit: limit, applicationId: applicationId), region: region, logger: logger, on: eventLoop)
    }

    /// 查询模板
    ///
    /// 此接口（DescribeFlowTemplates）用于查询本企业模板列表信息。
    /// >  一个模板通常会包含以下结构信息
    /// >- 模板基本信息
    /// >- 发起方参与信息Promoter、签署参与方 Recipients，后者会在模板发起合同时用于指定参与方
    /// >- 填写控件 Components
    /// >- 签署控件 SignComponents
    /// >- 生成模板的文件基础信息 FileInfos
    ///
    /// 当模板较多或模板中的控件较多时，可以通过查询模板接口更方便的获取模板列表，以及每个模板内的控件信息。
    ///
    /// 适用场景：
    /// 该接口常用来配合[模板发起合同-创建电子文档](https://qian.tencent.com/developers/companyApis/startFlows/CreateDocument)接口，作为创建电子文档的前置接口使用。
    /// 通过此接口查询到模板信息后，再通过调用创建电子文档接口，指定模板ID，指定模板中需要的填写控件内容等，完成电子文档的创建。
    @available(*, deprecated, renamed: "describeFlowTemplates(operator:agent:contentType:filters:offset:limit:applicationId:region:logger:on:)", message: "'isChannel', 'organization' and 'generateSource' are deprecated. Setting these parameters has no effect.")
    @inlinable
    public func describeFlowTemplates(operator: UserInfo, agent: Agent? = nil, contentType: Int64? = nil, filters: [Filter]? = nil, offset: UInt64? = nil, limit: UInt64? = nil, applicationId: String? = nil, isChannel: Bool? = nil, organization: OrganizationInfo? = nil, generateSource: UInt64? = nil, region: TCRegion? = nil, logger: Logger = TCClient.loggingDisabled, on eventLoop: EventLoop? = nil) -> EventLoopFuture<DescribeFlowTemplatesResponse> {
        self.describeFlowTemplates(.init(operator: `operator`, agent: agent, contentType: contentType, filters: filters, offset: offset, limit: limit, applicationId: applicationId, isChannel: isChannel, organization: organization, generateSource: generateSource), region: region, logger: logger, on: eventLoop)
    }

    /// 查询模板
    ///
    /// 此接口（DescribeFlowTemplates）用于查询本企业模板列表信息。
    /// >  一个模板通常会包含以下结构信息
    /// >- 模板基本信息
    /// >- 发起方参与信息Promoter、签署参与方 Recipients，后者会在模板发起合同时用于指定参与方
    /// >- 填写控件 Components
    /// >- 签署控件 SignComponents
    /// >- 生成模板的文件基础信息 FileInfos
    ///
    /// 当模板较多或模板中的控件较多时，可以通过查询模板接口更方便的获取模板列表，以及每个模板内的控件信息。
    ///
    /// 适用场景：
    /// 该接口常用来配合[模板发起合同-创建电子文档](https://qian.tencent.com/developers/companyApis/startFlows/CreateDocument)接口，作为创建电子文档的前置接口使用。
    /// 通过此接口查询到模板信息后，再通过调用创建电子文档接口，指定模板ID，指定模板中需要的填写控件内容等，完成电子文档的创建。
    @inlinable
    public func describeFlowTemplates(operator: UserInfo, agent: Agent? = nil, contentType: Int64? = nil, filters: [Filter]? = nil, offset: UInt64? = nil, limit: UInt64? = nil, applicationId: String? = nil, region: TCRegion? = nil, logger: Logger = TCClient.loggingDisabled, on eventLoop: EventLoop? = nil) async throws -> DescribeFlowTemplatesResponse {
        try await self.describeFlowTemplates(.init(operator: `operator`, agent: agent, contentType: contentType, filters: filters, offset: offset, limit: limit, applicationId: applicationId), region: region, logger: logger, on: eventLoop)
    }

    /// 查询模板
    ///
    /// 此接口（DescribeFlowTemplates）用于查询本企业模板列表信息。
    /// >  一个模板通常会包含以下结构信息
    /// >- 模板基本信息
    /// >- 发起方参与信息Promoter、签署参与方 Recipients，后者会在模板发起合同时用于指定参与方
    /// >- 填写控件 Components
    /// >- 签署控件 SignComponents
    /// >- 生成模板的文件基础信息 FileInfos
    ///
    /// 当模板较多或模板中的控件较多时，可以通过查询模板接口更方便的获取模板列表，以及每个模板内的控件信息。
    ///
    /// 适用场景：
    /// 该接口常用来配合[模板发起合同-创建电子文档](https://qian.tencent.com/developers/companyApis/startFlows/CreateDocument)接口，作为创建电子文档的前置接口使用。
    /// 通过此接口查询到模板信息后，再通过调用创建电子文档接口，指定模板ID，指定模板中需要的填写控件内容等，完成电子文档的创建。
    @available(*, deprecated, renamed: "describeFlowTemplates(operator:agent:contentType:filters:offset:limit:applicationId:region:logger:on:)", message: "'isChannel', 'organization' and 'generateSource' are deprecated. Setting these parameters has no effect.")
    @inlinable
    public func describeFlowTemplates(operator: UserInfo, agent: Agent? = nil, contentType: Int64? = nil, filters: [Filter]? = nil, offset: UInt64? = nil, limit: UInt64? = nil, applicationId: String? = nil, isChannel: Bool? = nil, organization: OrganizationInfo? = nil, generateSource: UInt64? = nil, region: TCRegion? = nil, logger: Logger = TCClient.loggingDisabled, on eventLoop: EventLoop? = nil) async throws -> DescribeFlowTemplatesResponse {
        try await self.describeFlowTemplates(.init(operator: `operator`, agent: agent, contentType: contentType, filters: filters, offset: offset, limit: limit, applicationId: applicationId, isChannel: isChannel, organization: organization, generateSource: generateSource), region: region, logger: logger, on: eventLoop)
    }

    /// 查询模板
    ///
    /// 此接口（DescribeFlowTemplates）用于查询本企业模板列表信息。
    /// >  一个模板通常会包含以下结构信息
    /// >- 模板基本信息
    /// >- 发起方参与信息Promoter、签署参与方 Recipients，后者会在模板发起合同时用于指定参与方
    /// >- 填写控件 Components
    /// >- 签署控件 SignComponents
    /// >- 生成模板的文件基础信息 FileInfos
    ///
    /// 当模板较多或模板中的控件较多时，可以通过查询模板接口更方便的获取模板列表，以及每个模板内的控件信息。
    ///
    /// 适用场景：
    /// 该接口常用来配合[模板发起合同-创建电子文档](https://qian.tencent.com/developers/companyApis/startFlows/CreateDocument)接口，作为创建电子文档的前置接口使用。
    /// 通过此接口查询到模板信息后，再通过调用创建电子文档接口，指定模板ID，指定模板中需要的填写控件内容等，完成电子文档的创建。
    @inlinable
    public func describeFlowTemplatesPaginated(_ input: DescribeFlowTemplatesRequest, region: TCRegion? = nil, logger: Logger = TCClient.loggingDisabled, on eventLoop: EventLoop? = nil) -> EventLoopFuture<(Int64?, [TemplateInfo])> {
        self.client.paginate(input: input, region: region, command: self.describeFlowTemplates, logger: logger, on: eventLoop)
    }

    /// 查询模板
    ///
    /// 此接口（DescribeFlowTemplates）用于查询本企业模板列表信息。
    /// >  一个模板通常会包含以下结构信息
    /// >- 模板基本信息
    /// >- 发起方参与信息Promoter、签署参与方 Recipients，后者会在模板发起合同时用于指定参与方
    /// >- 填写控件 Components
    /// >- 签署控件 SignComponents
    /// >- 生成模板的文件基础信息 FileInfos
    ///
    /// 当模板较多或模板中的控件较多时，可以通过查询模板接口更方便的获取模板列表，以及每个模板内的控件信息。
    ///
    /// 适用场景：
    /// 该接口常用来配合[模板发起合同-创建电子文档](https://qian.tencent.com/developers/companyApis/startFlows/CreateDocument)接口，作为创建电子文档的前置接口使用。
    /// 通过此接口查询到模板信息后，再通过调用创建电子文档接口，指定模板ID，指定模板中需要的填写控件内容等，完成电子文档的创建。
    @inlinable @discardableResult
    public func describeFlowTemplatesPaginated(_ input: DescribeFlowTemplatesRequest, region: TCRegion? = nil, onResponse: @escaping (DescribeFlowTemplatesResponse, EventLoop) -> EventLoopFuture<Bool>, logger: Logger = TCClient.loggingDisabled, on eventLoop: EventLoop? = nil) -> EventLoopFuture<Void> {
        self.client.paginate(input: input, region: region, command: self.describeFlowTemplates, callback: onResponse, logger: logger, on: eventLoop)
    }

    /// 查询模板
    ///
    /// 此接口（DescribeFlowTemplates）用于查询本企业模板列表信息。
    /// >  一个模板通常会包含以下结构信息
    /// >- 模板基本信息
    /// >- 发起方参与信息Promoter、签署参与方 Recipients，后者会在模板发起合同时用于指定参与方
    /// >- 填写控件 Components
    /// >- 签署控件 SignComponents
    /// >- 生成模板的文件基础信息 FileInfos
    ///
    /// 当模板较多或模板中的控件较多时，可以通过查询模板接口更方便的获取模板列表，以及每个模板内的控件信息。
    ///
    /// 适用场景：
    /// 该接口常用来配合[模板发起合同-创建电子文档](https://qian.tencent.com/developers/companyApis/startFlows/CreateDocument)接口，作为创建电子文档的前置接口使用。
    /// 通过此接口查询到模板信息后，再通过调用创建电子文档接口，指定模板ID，指定模板中需要的填写控件内容等，完成电子文档的创建。
    ///
    /// - Returns: `AsyncSequence`s of ``TemplateInfo`` and ``DescribeFlowTemplatesResponse`` that can be iterated over asynchronously on demand.
    @inlinable
    public func describeFlowTemplatesPaginator(_ input: DescribeFlowTemplatesRequest, region: TCRegion? = nil, logger: Logger = TCClient.loggingDisabled, on eventLoop: EventLoop? = nil) -> TCClient.PaginatorSequences<DescribeFlowTemplatesRequest> {
        TCClient.Paginator.makeAsyncSequences(input: input, region: region, command: self.describeFlowTemplates, logger: logger, on: eventLoop)
    }
}
